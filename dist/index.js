"use strict";var D=Object.create;var p=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var G=(t,e)=>{for(var r in e)p(t,r,{get:e[r],enumerable:!0})},b=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!F.call(t,s)&&s!==r&&p(t,s,{get:()=>e[s],enumerable:!(a=L(e,s))||a.enumerable});return t};var C=(t,e,r)=>(r=t!=null?D(T(t)):{},b(e||!t||!t.__esModule?p(r,"default",{value:t,enumerable:!0}):r,t)),H=t=>b(p({},"__esModule",{value:!0}),t);var K={};G(K,{SecureStorage:()=>J,Storage:()=>B,useSecureStorage:()=>j,useStorage:()=>P});module.exports=H(K);var S=class{constructor(e){this.repo=e}execute(e,r){return this.repo.setItem(e,r)}};var f=class{constructor(e){this.repo=e}async execute(e){return await this.repo.getItem(e)}};var w=class{constructor(e){this.repo=e}execute(e){return console.log("removing item from secure storage"),this.repo.removeItem(e)}};var I=class{constructor(e){this.repo=e}execute(){this.repo.removeAll(),console.log("removing all items from secure storage")}};var v=class{constructor(e){this.repo=e}execute(e,r){return this.repo.setItem(e,r)}};var x=class{constructor(e){this.repo=e}async execute(e){return await this.repo.getItem(e)}};var y=t=>({setItem:(e,r)=>new S(t).execute(e,r),getItem:e=>new f(t).execute(e),removeItem:e=>new w(t).execute(e),removeAll:()=>new I(t).execute()}),R=t=>({setItem:(e,r)=>new v(t).execute(e,r),getItem:e=>new x(t).execute(e)});var M=require("react-native"),{StorageModule:d}=M.NativeModules,V={getItem:async t=>{if(!d)throw new Error("StorageModule not available");return await d.getItem(t)},setItem:async(t,e)=>{if(!d)throw new Error("StorageModule not available");return await d.setItem(t,e)}};var i=class{async setItem(e,r){return await V.setItem(e,r)}async getItem(e){return await V.getItem(e)??null}};var U=require("react-native"),{SecureStorageModule:n}=U.NativeModules,l={setItem:async(t,e)=>{if(!n)throw new Error("SecureStorageModule not available");return await n.saveString(t,e)},getItem:async t=>{if(!n)throw new Error("SecureStorageModule not available");return await n.loadString(t)},removeItem:async t=>{if(!n)throw new Error("SecureStorageModule not available");return await n.removeItem(t)},removeAll:async()=>{if(!n)throw new Error("SecureStorageModule not available");return await n.removeAll()}};var c=class{async removeItem(e){return await l.removeItem(e)}async removeAll(){return await l.removeAll()}async setItem(e,r){return await l.setItem(e,r)}async getItem(e){return await l.getItem(e)??null}};var g=C(require("react"));var P=t=>{let e=new i,r=R(e),[a,s]=g.default.useState(null),[E,u]=g.default.useState(!1);g.default.useEffect(()=>{(async()=>{u(!0);let o=await r.getItem(t);console.log("===>LOADING DATA MOUNTED===>",o),s(o),u(!1)})()},[t]);let h=g.default.useCallback(o=>{r.setItem(t,o),s(o)},[a,t]),A=g.default.useCallback(async()=>{let o=await r.getItem(t);console.log("REFRESH VALUE",o),s(o)},[t]);return{value:a,updateValue:h,refreshValue:A,loading:E}};var m=C(require("react"));var j=t=>{let e=new c,r=y(e),[a,s]=m.default.useState(null),[E,u]=m.default.useState(!1);m.default.useEffect(()=>{(async()=>{u(!0);let o=await r.getItem(t);console.log("===>LOADING DATA MOUNTED===>",o),s(o),u(!1)})()},[t]);let h=m.default.useCallback(o=>{r.setItem(t,o),s(o)},[a,t]),A=m.default.useCallback(async()=>{let o=await r.getItem(t);console.log("REFRESH VALUE",o),s(o)},[t]);return{value:a,updateValue:h,refreshValue:A,loading:E}};var q=new i,z=new c,B=R(q),J=y(z);0&&(module.exports={SecureStorage,Storage,useSecureStorage,useStorage});
//# sourceMappingURL=index.js.map