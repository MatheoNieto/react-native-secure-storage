"use strict";var C=Object.create;var g=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var P=(t,e)=>{for(var r in e)g(t,r,{get:e[r],enumerable:!0})},d=(t,e,r,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of D(e))!O.call(t,o)&&o!==r&&g(t,o,{get:()=>e[o],enumerable:!(c=U(e,o))||c.enumerable});return t};var T=(t,e,r)=>(r=t!=null?C(L(t)):{},d(e||!t||!t.__esModule?g(r,"default",{value:t,enumerable:!0}):r,t)),F=t=>d(g({},"__esModule",{value:!0}),t);var B={};P(B,{SecureStorage:()=>z,Storage:()=>q,useStorage:()=>G});module.exports=F(B);var u=class{constructor(e){this.repo=e}execute(e,r){return this.repo.setItem(e,r)}};var p=class{constructor(e){this.repo=e}async execute(e){return await this.repo.getItem(e)}};var l=class{constructor(e){this.repo=e}execute(e){return console.log("removing item from secure storage"),this.repo.removeItem(e)}};var S=class{constructor(e){this.repo=e}execute(){this.repo.removeAll(),console.log("removing all items from secure storage")}};var w=class{constructor(e){this.repo=e}execute(e,r){return this.repo.setItem(e,r)}};var f=class{constructor(e){this.repo=e}async execute(e){return await this.repo.getItem(e)}};var h=t=>({setItem:(e,r)=>new u(t).execute(e,r),getItem:e=>new p(t).execute(e),removeItem:e=>new l(t).execute(e),removeAll:()=>new S(t).execute()}),v=t=>({setItem:(e,r)=>new w(t).execute(e,r),getItem:e=>new f(t).execute(e)});var E=require("react-native"),{StorageModule:I}=E.NativeModules,x={getItem:async t=>{if(!I)throw new Error("StorageModule not available");return await I.getItem(t)},setItem:async(t,e)=>{if(!I)throw new Error("StorageModule not available");return await I.setItem(t,e)}};var i=class{async setItem(e,r){return await x.setItem(e,r)}async getItem(e){console.log("SecureStorageRepositoryImpl [newValue] ======<",e);let r=await x.getItem(e);return console.log("SecureStorageRepositoryImpl [newValue] ======<",r),r??null}};var M=require("react-native"),{SecureStorageModule:a}=M.NativeModules,m={setItem:async(t,e)=>{if(!a)throw new Error("SecureStorageModule not available");return await a.saveString(t,e)},getItem:async t=>{if(!a)throw new Error("SecureStorageModule not available");return await a.loadString(t)},removeItem:async t=>{if(!a)throw new Error("SecureStorageModule not available");return await a.removeItem(t)},removeAll:async()=>{if(!a)throw new Error("SecureStorageModule not available");return await a.removeAll()}};var y=class{async removeItem(e){return await m.removeItem(e)}async removeAll(){return await m.removeAll()}async setItem(e,r){return await m.setItem(e,r)}async getItem(e){return await m.getItem(e)??null}};var n=T(require("react"));var G=t=>{let e=new i,r=v(e),[c,o]=n.default.useState(null),[A,R]=n.default.useState(!1);n.default.useEffect(()=>{(async()=>{R(!0);let s=await r.getItem(t);console.log("===>LOADING DATA MOUNTED===>",s),o(s),R(!1)})()},[t]);let V=n.default.useCallback(s=>{r.setItem(t,s),o(s)},[c,t]),b=n.default.useCallback(async()=>{let s=await r.getItem(t);console.log("REFRESH VALUE",s),o(s)},[t]);return{value:c,updateValue:V,refreshValue:b,loading:A}};var H=new i,j=new y,q=v(H),z=h(j);0&&(module.exports={SecureStorage,Storage,useStorage});
//# sourceMappingURL=index.js.map